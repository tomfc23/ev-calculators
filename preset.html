<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Calc Pregame Presets</title>
    <style>
        body {
  font-family: sans-serif;
  margin: 20px;
  background-color: black;
  color: lightgray;
  text-align: center;
}

.header h1 {
  color: lightgray;
  margin-bottom: 30px;
  font-size: 2.5em;
}

.sport-selector {
  margin: 30px 0;
}

.sport-selector label {
  display: block;
  margin-bottom: 10px;
  font-size: 18px;
}

input, button, select {
  margin: 5px;
  padding: 15px;
  font-size: 16px;
  border-radius: 25px;
  border: 2px solid #ccc;
  transition: border-color 0.3s;
}

input, select {
  background-color: #333;
  color: lightgray;
  border: 2px solid #555;
  width: 300px;
  max-width: 90%;
}

input:focus, button:focus, select:focus {
  border-color: #007BFF;
  outline: none;
}

button {
  cursor: pointer;
  background-color: #6f42c1;
  color: white;
  border: none;
  min-width: 120px;
}

button:hover {
  background-color: #5a32a3;
}

.clear-btn {
  background-color: red;
  margin-left: 10px;
}

.clear-btn:hover {
  background-color: #cc0000;
}

.calculators-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 30px;
  margin: 30px 0;
}

.calculator {
  background-color: #1a1a1a;
  border: 2px solid #555;
  border-radius: 15px;
  padding: 25px;
  min-width: 350px;
  max-width: 400px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

.calculator h3 {
  color: #007BFF;
  margin-bottom: 20px;
  font-size: 1.4em;
}

.checkbox-container {
  margin: 15px 0;
  text-align: left;
}

.checkbox-container label {
  display: flex;
  align-items: center;
  font-size: 14px;
  cursor: pointer;
}

.checkbox-container input[type="checkbox"] {
  width: auto;
  margin-right: 8px;
  transform: scale(1.2);
}

.cfb-checkbox {
  color: #ff6b35;
  font-weight: bold;
}

.custom-names {
  display: none;
  margin: 15px 0;
}

.custom-names input {
  display: block;
  margin: 8px auto;
  width: 280px;
}

.real-odds {
  display: none;
  margin: 15px 0;
}

.real-odds input {
  display: block;
  margin: 8px auto;
  width: 280px;
}

.calculator input[type="text"] {
  display: block;
  margin: 10px auto;
  width: 280px;
}

.calculator select {
  display: block;
  margin: 10px auto;
  width: 310px;
}

.calculator label {
  display: block;
  margin-top: 5px;
  font-size: 14px;
  color: #ccc;
}

.result {
  margin-top: 20px;
  padding: 15px;
  background-color: #2a2a2a;
  border-radius: 10px;
  border: 1px solid #555;
  text-align: left;
  line-height: 1.6;
}

.result strong {
  color: lightgray;
}

.footer {
  margin-top: 50px;
  padding: 20px;
  border-top: 1px solid #555;
}

.footer button {
  background-color: #007BFF;
  margin-bottom: 15px;
}

.footer button:hover {
  background-color: #0056b3;
}

.footer p {
  color: #888;
  font-size: 14px;
  margin: 0;
}

a {
  color: #858bf0;
}

.highest-ev {
  color: lightgray;
  font-weight: bold;
}

@media (max-width: 768px) {
  .calculators-container {
    flex-direction: column;
    align-items: center;
  }
  
  .calculator {
    min-width: 300px;
    max-width: 95%;
  }
  
  input, select {
    width: 250px;
  }
  
  .custom-names input,
  .real-odds input,
  .calculator input[type="text"] {
    width: 220px;
  }
  
  .calculator select {
    width: 250px;
  }
}
    </style>
</head>
<body>
    <div class="header">
        <h1>EV Calc Pregame Presets</h1>
    </div>
    <div class="sport-selector">
        <label for="sportSelect"><strong>Select Sport:</strong></label>
        <select id="sportSelect" onchange="generateCalculators()">
            <option value="">Choose a sport...</option>
            <option value="NBA">NBA</option>
            <option value="NHL">NHL</option>
            <option value="MLB">MLB</option>
            <option value="WNBA">WNBA</option>
            <option value="NFL">NFL</option>
            <option value="CFB">CFB</option>
            <option value="FC">FC</option>
            <option value="CBB">CBB</option>
        </select>
    </div>

    <div id="calculatorsContainer" class="calculators-container">
    </div>

    <div class="footer">
        <button onclick="window.location.href='index.html'">Go Home</button>
        <p>designed by @tomfc on Real</p>
    </div>

    <script>
        const sportConfigs = {
            NBA: [
                { hasRealOdds: false, maxBet: '100-10', title: 'NBA O/U', side1: 'Over', side2: 'Under', isCFB: false },
                { hasRealOdds: false, maxBet: '100-10', title: 'NBA Spread', side1: 'Team 1', side2: 'Team 2', isCFB: false }
            ],
            NHL: [
                { hasRealOdds: false, maxBet: '100-10', title: 'NHL O/U', side1: 'Over', side2: 'Under', isCFB: false },
                { hasRealOdds: true, maxBet: '100-10', title: 'NHL Moneyline', side1: 'Team 1', side2: 'Team 2', isCFB: false }
            ],
            MLB: [
                { hasRealOdds: true, maxBet: '50-5', title: 'MLB hit streak', side1: 'Yes', side2: 'No', isCFB: false },
                { hasRealOdds: false, maxBet: '100-10', title: 'MLB O/U', side1: 'Over', side2: 'Under', isCFB: false },
                { hasRealOdds: true, maxBet: '100-10', title: 'MLB Moneyline', side1: 'Team 1', side2: 'Team 2', isCFB: false },
                { hasRealOdds: false, maxBet: '50-10', title: 'MLB RFI?', side1: 'Yes', side2: 'No', isCFB: false }
            ],
            WNBA: [
                { hasRealOdds: false, maxBet: '100-10', title: 'WNBA O/U', side1: 'Over', side2: 'Under', isCFB: false },
                { hasRealOdds: false, maxBet: '100-10', title: 'WNBA Spread', side1: 'Team 1', side2: 'Team 2', isCFB: false }
            ],
            NFL: [
                { hasRealOdds: false, maxBet: '100-10', title: 'NFL O/U', side1: 'Over', side2: 'Under', isCFB: false },
                { hasRealOdds: false, maxBet: '100-10', title: 'NFL Spread', side1: 'Team 1', side2: 'Team 2', isCFB: false }
            ],
            CFB: [
                { hasRealOdds: false, maxBet: '100-10', title: 'CFB O/U', side1: 'Over', side2: 'Under', isCFB: true },
                { hasRealOdds: false, maxBet: '100-10', title: 'CFB Spread', side1: 'Team 1', side2: 'Team 2', isCFB: true }
            ],
            FC: [
                { hasRealOdds: false, maxBet: '100-10', title: 'FC O/U', side1: 'Over', side2: 'Under', isCFB: false, is3Way: false },
                { hasRealOdds: true, maxBet: '100', title: 'FC 3-way ML', side1: 'Team 1', side2: 'Team 2', side3: 'Draw', isCFB: false, is3Way: true },
                { hasRealOdds: true, maxBet: '100-10', title: 'FC BTTS', side1: 'Yes', side2: 'No', isCFB: false, is3Way: false }
            ],
            CBB: [
                { hasRealOdds: false, maxBet: '100-10', title: 'CBB O/U', side1: 'Over', side2: 'Under', isCFB: true },
                { hasRealOdds: false, maxBet: '100-10', title: 'CBB Spread', side1: 'Team 1', side2: 'Team 2', isCFB: true }
            ],
        };

        function generateCalculators() {
            const sport = document.getElementById('sportSelect').value;
            const container = document.getElementById('calculatorsContainer');
            
            if (!sport) {
                container.innerHTML = '';
                return;
            }

            const configs = sportConfigs[sport];
            container.innerHTML = '';

            configs.forEach((config, index) => {
                const calcId = `calc_${sport}_${index}`;
                const calculatorHTML = config.is3Way ? 
                    create3WayCalculatorHTML(calcId, config) : 
                    createCalculatorHTML(calcId, config);
                container.innerHTML += calculatorHTML;
                
                if (config.hasRealOdds) {
                    setTimeout(() => {
                        const realOddsCheckbox = document.getElementById(`${calcId}_realOdds`);
                        if (realOddsCheckbox) {
                            realOddsCheckbox.checked = true;
                            if (config.is3Way) {
                                toggle3WayRealOdds(calcId);
                            } else {
                                toggleRealOdds(calcId);
                            }
                        }
                    }, 0);
                }

                if (config.isCFB) {
                    setTimeout(() => {
                        const cfbCheckbox = document.getElementById(`${calcId}_cfb`);
                        if (cfbCheckbox) {
                            cfbCheckbox.checked = true;
                        }
                    }, 0);
                }
            });
        }

        function create3WayCalculatorHTML(calcId, config) {
            const maxBetHTML = `
                <option value="50">50</option>
                <option value="100" ${config.maxBet === '100' ? 'selected' : ''}>100</option>
                <option value="200">200</option>
                <option value="300">300</option>
            `;

            return `
                <div class="calculator">
                    <h3>${config.title}</h3>
                    
                    <div class="checkbox-container">
                        <label>
                            <input type="checkbox" id="${calcId}_customNames" onchange="toggle3WayCustomNames('${calcId}')">
                            Use Custom Team Names
                        </label>
                    </div>
                    
                    ${config.hasRealOdds ? `
                    <div class="checkbox-container">
                        <label>
                            <input type="checkbox" id="${calcId}_realOdds" onchange="toggle3WayRealOdds('${calcId}')">
                            Show Real Odds Inputs
                        </label>
                    </div>
                    ` : ''}
                    
                    <div class="checkbox-container">
                        <label>
                            <input type="checkbox" id="${calcId}_showAll">
                            Show All Outputs
                        </label>
                    </div>

                    <div class="custom-names" id="${calcId}_customNamesInputs">
                        <input type="text" id="${calcId}_name1" placeholder="Enter ${config.side1} Name">
                        <input type="text" id="${calcId}_name2" placeholder="Enter ${config.side2} Name">
                        <input type="text" id="${calcId}_name3" placeholder="Enter ${config.side3} Name">
                    </div>

                    <input type="text" id="${calcId}_odds1" placeholder="Enter ${config.side1} Sportsbook Odds">
                    ${config.hasRealOdds ? `<input type="text" id="${calcId}_realOdds1" placeholder="Enter ${config.side1} Real App Odds">` : ''}
                    
                    <input type="text" id="${calcId}_odds2" placeholder="Enter ${config.side2} Sportsbook Odds">
                    ${config.hasRealOdds ? `<input type="text" id="${calcId}_realOdds2" placeholder="Enter ${config.side2} Real App Odds">` : ''}
                    
                    <input type="text" id="${calcId}_odds3" placeholder="Enter ${config.side3} Sportsbook Odds">
                    ${config.hasRealOdds ? `<input type="text" id="${calcId}_realOdds3" placeholder="Enter ${config.side3} Real App Odds">` : ''}

                    <select id="${calcId}_maxBet">
                        ${maxBetHTML}
                    </select>
                    <label>Max Bet Amount</label>

                    <div style="margin-top: 15px;">
                        <button onclick="calculate3WayEV('${calcId}')">Calculate</button>
                        <button class="clear-btn" onclick="clear3WayCalculator('${calcId}')">Clear</button>
                    </div>

                    <div class="result" id="${calcId}_result"></div>
                </div>
            `;
        }

        function createCalculatorHTML(calcId, config) {
            let maxBetHTML = '';
            if (config.isCFB) {
                const cfbMaxBet = config.maxBet.split('-')[0];
                maxBetHTML = `
                    <option value="50" ${cfbMaxBet === '50' ? 'selected' : ''}>50</option>
                    <option value="100" ${cfbMaxBet === '100' ? 'selected' : ''}>100</option>
                    <option value="200" ${cfbMaxBet === '200' ? 'selected' : ''}>200</option>
                    <option value="300" ${cfbMaxBet === '300' ? 'selected' : ''}>300</option>
                `;
            } else {
                const opts = {
                    '50-5': '<option value="50-5">50 (payout 5)</option>',
                    '50-10': '<option value="50-10">50 (payout 10)</option>',
                    '100-10': '<option value="100-10">100</option>',
                    '100-5': '<option value="100-5">100 (payout 5)</option>',
                    '200': '<option value="200">200</option>',
                    '300': '<option value="300">300</option>'
                };
                maxBetHTML = Object.entries(opts).map(([k,v]) => 
                    v.replace('>', k === config.maxBet ? ' selected>' : '>')
                ).join('');
            }

            return `
                <div class="calculator">
                    <h3>${config.title}</h3>
                    
                    <div class="checkbox-container">
                        <label>
                            <input type="checkbox" id="${calcId}_customNames" onchange="toggleCustomNames('${calcId}')">
                            Use Custom Team Names
                        </label>
                    </div>
                    
                    ${config.hasRealOdds ? `
                    <div class="checkbox-container">
                        <label>
                            <input type="checkbox" id="${calcId}_realOdds" onchange="toggleRealOdds('${calcId}')">
                            Show Real Odds Inputs
                        </label>
                    </div>
                    ` : ''}
                    
                    ${config.isCFB ? `
                    <div class="checkbox-container">
                        <label class="cfb-checkbox">
                            <input type="checkbox" id="${calcId}_cfb">
                            Use 10 as Min Bet
                        </label>
                    </div>
                    ` : ''}
                    
                    <div class="checkbox-container">
                        <label>
                            <input type="checkbox" id="${calcId}_showAll">
                            Show All Outputs
                        </label>
                    </div>

                    <div class="custom-names" id="${calcId}_customNamesInputs">
                        <input type="text" id="${calcId}_name1" placeholder="Enter ${config.side1} Name">
                        <input type="text" id="${calcId}_name2" placeholder="Enter ${config.side2} Name">
                    </div>

                    <input type="text" id="${calcId}_odds1" placeholder="Enter ${config.side1} Sportsbook Odds">
                    <input type="text" id="${calcId}_odds2" placeholder="Enter ${config.side2} Sportsbook Odds">

                    ${config.hasRealOdds ? `
                    <div class="real-odds" id="${calcId}_realOddsInputs">
                        <input type="text" id="${calcId}_realOdds1" placeholder="Enter ${config.side1} Real App Odds" disabled>
                        <input type="text" id="${calcId}_realOdds2" placeholder="Enter ${config.side2} Real App Odds" disabled>
                    </div>
                    ` : ''}

                    <select id="${calcId}_maxBet">
                        ${maxBetHTML}
                    </select>
                    <label>Max Bet Amount</label>

                    <div style="margin-top: 15px;">
                        <button onclick="calculateEV('${calcId}')">Calculate</button>
                        <button class="clear-btn" onclick="clearCalculator('${calcId}')">Clear</button>
                    </div>

                    <div class="result" id="${calcId}_result"></div>
                </div>
            `;
        }

        function toggleCustomNames(calcId) {
            const checkbox = document.getElementById(`${calcId}_customNames`);
            const inputs = document.getElementById(`${calcId}_customNamesInputs`);
            inputs.style.display = checkbox.checked ? 'block' : 'none';
        }

        function toggle3WayCustomNames(calcId) {
            const checkbox = document.getElementById(`${calcId}_customNames`);
            const inputs = document.getElementById(`${calcId}_customNamesInputs`);
            inputs.style.display = checkbox.checked ? 'block' : 'none';
        }

        function toggleRealOdds(calcId) {
            const checkbox = document.getElementById(`${calcId}_realOdds`);
            const inputs = document.getElementById(`${calcId}_realOddsInputs`);
            const realOdds1 = document.getElementById(`${calcId}_realOdds1`);
            const realOdds2 = document.getElementById(`${calcId}_realOdds2`);
            
            const isChecked = checkbox.checked;
            inputs.style.display = isChecked ? 'block' : 'none';
            if (realOdds1) realOdds1.disabled = !isChecked;
            if (realOdds2) realOdds2.disabled = !isChecked;
        }

        function toggle3WayRealOdds(calcId) {
        }

        function isCFBMode(calcId) {
            const cfbCheckbox = document.getElementById(`${calcId}_cfb`);
            return cfbCheckbox && cfbCheckbox.checked;
        }

        function calculateImpliedProbability(odds) {
            if (odds > 0) return 100 / (100 + odds);
            return Math.abs(odds) / (Math.abs(odds) + 100);
        }

        function roundToWhole(value) {
            return Math.round(value);
        }

        function roundToTwoDecimals(value) {
            return Math.round(value * 100) / 100;
        }

        function calculatePayout(realOdds, wager, maxBetValue, cfbMode = false) {
            let winnings;
            
            if (cfbMode) {
                if (wager === 0 || wager === 10) {
                    winnings = realOdds > 0 ? roundToWhole((10 / 100) * realOdds) : roundToWhole((100 / Math.abs(realOdds)) * 10);
                } else {
                    winnings = realOdds > 0 ? (wager / 100) * realOdds : (100 / Math.abs(realOdds)) * wager;
                }
            } else {
                winnings = (maxBetValue === "50-5" || maxBetValue === "100-5") ? 5 : 10;

                if (wager === 0) {
                    winnings = realOdds > 0 ? roundToWhole((winnings / 100) * realOdds) : roundToWhole((100 / Math.abs(realOdds)) * winnings);
                } else {
                    winnings = realOdds > 0 ? (wager / 100) * realOdds : (100 / Math.abs(realOdds)) * wager;
                }
            }
            
            return roundToWhole(winnings);
        }

        function calculate3WayPayout(odds, wager) {
            let win = wager === 0 ? (odds > 0 ? 10 / 100 * odds : 100 / Math.abs(odds) * 10) : 
                      (odds > 0 ? wager / 100 * odds : 100 / Math.abs(odds) * wager);
            return roundToWhole(win);
        }

        function calculateExpectedValue(winnings, noVigProbWin, wager, noVigProbLose) {
            return roundToTwoDecimals((winnings * noVigProbWin) - (wager * noVigProbLose));
        }

        function getCalculatorConfig(calcId) {
            const sport = document.getElementById('sportSelect').value;
            const index = parseInt(calcId.split('_')[2]);
            return sportConfigs[sport][index];
        }

        function calculate3WayEV(calcId) {
            const config = getCalculatorConfig(calcId);
            const name1 = document.getElementById(`${calcId}_name1`)?.value || config.side1;
            const name2 = document.getElementById(`${calcId}_name2`)?.value || config.side2;
            const name3 = document.getElementById(`${calcId}_name3`)?.value || config.side3;
            
            const odds1 = parseInt(document.getElementById(`${calcId}_odds1`).value);
            const odds2 = parseInt(document.getElementById(`${calcId}_odds2`).value);
            const odds3 = parseInt(document.getElementById(`${calcId}_odds3`).value);
            
            if (isNaN(odds1) || isNaN(odds2) || isNaN(odds3)) {
                alert("Please enter valid sportsbook odds for all sides.");
                return;
            }

            const realOdds1Element = document.getElementById(`${calcId}_realOdds1`);
            const realOdds2Element = document.getElementById(`${calcId}_realOdds2`);
            const realOdds3Element = document.getElementById(`${calcId}_realOdds3`);
            const realOdds1 = realOdds1Element ? (parseInt(realOdds1Element.value) || 100) : 100;
            const realOdds2 = realOdds2Element ? (parseInt(realOdds2Element.value) || 100) : 100;
            const realOdds3 = realOdds3Element ? (parseInt(realOdds3Element.value) || 100) : 100;
            
            const maxBet = parseFloat(document.getElementById(`${calcId}_maxBet`).value);

            const prob1 = calculateImpliedProbability(odds1);
            const prob2 = calculateImpliedProbability(odds2);
            const prob3 = calculateImpliedProbability(odds3);
            const totalProb = prob1 + prob2 + prob3;
            
            const noVigProb1 = prob1 / totalProb;
            const noVigProb2 = prob2 / totalProb;
            const noVigProb3 = prob3 / totalProb;

            const noVigOdds1 = noVigProb1 < 0.5 ? roundToWhole(100 * (1 - noVigProb1) / noVigProb1) : 
                              roundToWhole(-100 * noVigProb1 / (1 - noVigProb1));
            const noVigOdds2 = noVigProb2 < 0.5 ? roundToWhole(100 * (1 - noVigProb2) / noVigProb2) : 
                              roundToWhole(-100 * noVigProb2 / (1 - noVigProb2));
            const noVigOdds3 = noVigProb3 < 0.5 ? roundToWhole(100 * (1 - noVigProb3) / noVigProb3) : 
                              roundToWhole(-100 * noVigProb3 / (1 - noVigProb3));

            const noVigDecimalProb1 = noVigOdds1 > 0 ? 100 / (100 + noVigOdds1) : Math.abs(noVigOdds1) / (Math.abs(noVigOdds1) + 100);
            const noVigDecimalProb2 = noVigOdds2 > 0 ? 100 / (100 + noVigOdds2) : Math.abs(noVigOdds2) / (Math.abs(noVigOdds2) + 100);
            const noVigDecimalProb3 = noVigOdds3 > 0 ? 100 / (100 + noVigOdds3) : Math.abs(noVigOdds3) / (Math.abs(noVigOdds3) + 100);

            const w1w0 = calculate3WayPayout(realOdds1, 0);
            const w1wm = calculate3WayPayout(realOdds1, maxBet);
            const w2w0 = calculate3WayPayout(realOdds2, 0);
            const w2wm = calculate3WayPayout(realOdds2, maxBet);
            const w3w0 = calculate3WayPayout(realOdds3, 0);
            const w3wm = calculate3WayPayout(realOdds3, maxBet);

            const ev1w0 = calculateExpectedValue(w1w0, noVigDecimalProb1, 0, noVigDecimalProb2 + noVigDecimalProb3);
            const ev1wm = calculateExpectedValue(w1wm, noVigDecimalProb1, maxBet, noVigDecimalProb2 + noVigDecimalProb3);
            const ev2w0 = calculateExpectedValue(w2w0, noVigDecimalProb2, 0, noVigDecimalProb1 + noVigDecimalProb3);
            const ev2wm = calculateExpectedValue(w2wm, noVigDecimalProb2, maxBet, noVigDecimalProb1 + noVigDecimalProb3);
            const ev3w0 = calculateExpectedValue(w3w0, noVigDecimalProb3, 0, noVigDecimalProb1 + noVigDecimalProb2);
            const ev3wm = calculateExpectedValue(w3wm, noVigDecimalProb3, maxBet, noVigDecimalProb1 + noVigDecimalProb2);

            const evs = [ev1w0, ev1wm, ev2w0, ev2wm, ev3w0, ev3wm];
            const maxEV = Math.max(...evs);
            const showAll = document.getElementById(`${calcId}_showAll`).checked;

            let html = '';
            if (showAll) {
                html += `${name1} No-Vig Odds: ${noVigOdds1}<br>
                ${name2} No-Vig Odds: ${noVigOdds2}<br>
                ${name3} No-Vig Odds: ${noVigOdds3}<br>
                ${name1} Winnings (Wager 0): ${w1w0}<br>
                ${name1} Winnings (Max Bet): ${w1wm}<br>
                ${name2} Winnings (Wager 0): ${w2w0}<br>
                ${name2} Winnings (Max Bet): ${w2wm}<br>
                ${name3} Winnings (Wager 0): ${w3w0}<br>
                ${name3} Winnings (Max Bet): ${w3wm}<br>
                ${name1} No-Vig Prob: ${noVigProb1.toFixed(4)}<br>
                ${name2} No-Vig Prob: ${noVigProb2.toFixed(4)}<br>
                ${name3} No-Vig Prob: ${noVigProb3.toFixed(4)}<br>`;
            }

            html += `<strong>${name1} EV (Wager 0): ${ev1w0}${ev1w0 === maxEV ? ' ✅' : ''}</strong><br>
            <strong>${name1} EV (Max Bet): ${ev1wm}${ev1wm === maxEV ? ' ✅' : ''}</strong><br>
            <strong>${name2} EV (Wager 0): ${ev2w0}${ev2w0 === maxEV ? ' ✅' : ''}</strong><br>
            <strong>${name2} EV (Max Bet): ${ev2wm}${ev2wm === maxEV ? ' ✅' : ''}</strong><br>
            <strong>${name3} EV (Wager 0): ${ev3w0}${ev3w0 === maxEV ? ' ✅' : ''}</strong><br>
            <strong>${name3} EV (Max Bet): ${ev3wm}${ev3wm === maxEV ? ' ✅' : ''}</strong>`;

            document.getElementById(`${calcId}_result`).innerHTML = html;
        }

        function calculateEV(calcId) {
            const config = getCalculatorConfig(calcId);
            const cfbMode = isCFBMode(calcId);
            const name1 = document.getElementById(`${calcId}_name1`)?.value || config.side1;
            const name2 = document.getElementById(`${calcId}_name2`)?.value || config.side2;
            const odds1 = parseInt(document.getElementById(`${calcId}_odds1`).value);
            const odds2 = parseInt(document.getElementById(`${calcId}_odds2`).value);
            
            if (isNaN(odds1) || isNaN(odds2)) {
                alert("Please enter valid sportsbook odds for both sides.");
                return;
            }

            const realOdds1Element = document.getElementById(`${calcId}_realOdds1`);
            const realOdds2Element = document.getElementById(`${calcId}_realOdds2`);
            const realOdds1 = realOdds1Element ? (parseInt(realOdds1Element.value) || 100) : 100;
            const realOdds2 = realOdds2Element ? (parseInt(realOdds2Element.value) || 100) : 100;
            
            const maxBetValue = document.getElementById(`${calcId}_maxBet`).value;
            const maxBet = parseFloat(maxBetValue.split('-')[0]);

            const prob1 = calculateImpliedProbability(odds1);
            const prob2 = calculateImpliedProbability(odds2);
            const totalProb = prob1 + prob2;
            const noVigProb1 = prob1 / totalProb;
            const noVigProb2 = prob2 / totalProb;

            const noVigOdds1 = noVigProb1 < 0.5 ? roundToWhole(100 * (1 - noVigProb1) / noVigProb1) : 
                              roundToWhole(-100 * noVigProb1 / (1 - noVigProb1));
            const noVigOdds2 = noVigProb2 < 0.5 ? roundToWhole(100 * (1 - noVigProb2) / noVigProb2) : 
                              roundToWhole(-100 * noVigProb2 / (1 - noVigProb2));

            const noVigDecimalProb1 = noVigOdds1 > 0 ? 100 / (100 + noVigOdds1) : 
                                     Math.abs(noVigOdds1) / (Math.abs(noVigOdds1) + 100);
            const noVigDecimalProb2 = noVigOdds2 > 0 ? 100 / (100 + noVigOdds2) : 
                                     Math.abs(noVigOdds2) / (Math.abs(noVigOdds2) + 100);

            const lowWager = cfbMode ? 10 : 0;

            const winnings1Wager0 = calculatePayout(realOdds1, lowWager, maxBetValue, cfbMode);
            const winnings1WagerMax = calculatePayout(realOdds1, maxBet, maxBetValue, cfbMode);
            const winnings2Wager0 = calculatePayout(realOdds2, lowWager, maxBetValue, cfbMode);
            const winnings2WagerMax = calculatePayout(realOdds2, maxBet, maxBetValue, cfbMode);

            const ev1Wager0 = calculateExpectedValue(winnings1Wager0, noVigDecimalProb1, lowWager, noVigDecimalProb2);
            const ev1WagerMax = calculateExpectedValue(winnings1WagerMax, noVigDecimalProb1, maxBet, noVigDecimalProb2);
            const ev2Wager0 = calculateExpectedValue(winnings2Wager0, noVigDecimalProb2, lowWager, noVigDecimalProb1);
            const ev2WagerMax = calculateExpectedValue(winnings2WagerMax, noVigDecimalProb2, maxBet, noVigDecimalProb1);

            const evValues = [ev1Wager0, ev1WagerMax, ev2Wager0, ev2WagerMax];
            const maxEV = Math.max(...evValues);
            
            const showAllOutputs = document.getElementById(`${calcId}_showAll`).checked;
            const wager1Label = cfbMode ? "10 Wager" : "Wager 0";
            const wager2Label = "Max Bet";

            let resultHTML = '';
            if (showAllOutputs) {
                resultHTML += `
                    ${name1} No-Vig American Odds: ${noVigOdds1}<br>
                    ${name2} No-Vig American Odds: ${noVigOdds2}<br>
                    ${name1} Winnings (${wager1Label}): ${winnings1Wager0}<br>
                    ${name1} Winnings (${wager2Label}): ${winnings1WagerMax}<br>
                    ${name2} Winnings (${wager1Label}): ${winnings2Wager0}<br>
                    ${name2} Winnings (${wager2Label}): ${winnings2WagerMax}<br>
                    ${name1} No-Vig Probability: ${noVigProb1.toFixed(4)}<br>
                    ${name2} No-Vig Probability: ${noVigProb2.toFixed(4)}<br>`;
            }

            resultHTML += `
                <strong>${name1} Expected Value (${wager1Label}): ${ev1Wager0}${ev1Wager0 === maxEV ? ' ✅' : ''}</strong><br>
                <strong>${name1} Expected Value (${wager2Label}): ${ev1WagerMax}${ev1WagerMax === maxEV ? ' ✅' : ''}</strong><br>
                <strong>${name2} Expected Value (${wager1Label}): ${ev2Wager0}${ev2Wager0 === maxEV ? ' ✅' : ''}</strong><br>
                <strong>${name2} Expected Value (${wager2Label}): ${ev2WagerMax}${ev2WagerMax === maxEV ? ' ✅' : ''}</strong><br>`;

            document.getElementById(`${calcId}_result`).innerHTML = resultHTML;
        }

        function clearCalculator(calcId) {
            const config = getCalculatorConfig(calcId);
            
            const name1 = document.getElementById(`${calcId}_name1`);
            const name2 = document.getElementById(`${calcId}_name2`);
            if (name1) name1.value = '';
            if (name2) name2.value = '';
            
            document.getElementById(`${calcId}_odds1`).value = '';
            document.getElementById(`${calcId}_odds2`).value = '';
            
            const realOdds1 = document.getElementById(`${calcId}_realOdds1`);
            const realOdds2 = document.getElementById(`${calcId}_realOdds2`);
            if (realOdds1) realOdds1.value = '';
            if (realOdds2) realOdds2.value = '';
            
            document.getElementById(`${calcId}_showAll`).checked = false;
            document.getElementById(`${calcId}_customNames`).checked = false;
            
            const realOddsCheckbox = document.getElementById(`${calcId}_realOdds`);
            if (realOddsCheckbox) realOddsCheckbox.checked = false;
            
            const cfbCheckbox = document.getElementById(`${calcId}_cfb`);
            if (cfbCheckbox) {
                cfbCheckbox.checked = config.isCFB;
            }
            
            document.getElementById(`${calcId}_result`).innerHTML = '';
            
            toggleCustomNames(calcId);
            if (realOddsCheckbox) toggleRealOdds(calcId);
        }

        function clear3WayCalculator(calcId) {
            const config = getCalculatorConfig(calcId);
            
            const name1 = document.getElementById(`${calcId}_name1`);
            const name2 = document.getElementById(`${calcId}_name2`);
            const name3 = document.getElementById(`${calcId}_name3`);
            if (name1) name1.value = '';
            if (name2) name2.value = '';
            if (name3) name3.value = '';
            
            document.getElementById(`${calcId}_odds1`).value = '';
            document.getElementById(`${calcId}_odds2`).value = '';
            document.getElementById(`${calcId}_odds3`).value = '';
            
            const realOdds1 = document.getElementById(`${calcId}_realOdds1`);
            const realOdds2 = document.getElementById(`${calcId}_realOdds2`);
            const realOdds3 = document.getElementById(`${calcId}_realOdds3`);
            if (realOdds1) realOdds1.value = '';
            if (realOdds2) realOdds2.value = '';
            if (realOdds3) realOdds3.value = '';
            
            document.getElementById(`${calcId}_showAll`).checked = false;
            document.getElementById(`${calcId}_customNames`).checked = false;
            
            const realOddsCheckbox = document.getElementById(`${calcId}_realOdds`);
            if (realOddsCheckbox) realOddsCheckbox.checked = config.hasRealOdds;
            
            document.getElementById(`${calcId}_result`).innerHTML = '';
            
            toggle3WayCustomNames(calcId);
        }
    </script>
</body>
</html>
